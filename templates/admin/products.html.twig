{% extends 'base.html.twig' %}

{% block title %} Products {% endblock %}

{% block body %}
    {% include '/parts/flash.html.twig' %}
    <table class="table">
        <th scope="col">
            <aside class="col-sm-12 col-md-6 col-xl-3 col-lg-3 white">
                {% include '/parts/categories.html.twig' %}
            </aside>
        </th>
        <th scope="col">
            <table style="width:90% ">
                <th scope="col">
                    <h1>Products</h1>
                    <div class="container" align="center">
                        <a class="btn btn-sm btn-primary" href="{{ path('pr_new') }}">Create</a>
                        <div class="row">
                            <div class="col-xl-10 col-md-9 col-sm-12">
                                <tr>
                                    <th>Id</th>
                                    <th>Code</th>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Description</th>
                                    <th>ProductImage</th>
                                    <th>Available amount</th>
                                    <th>CreatedAt</th>
                                    <th>UpdatedAt</th>
                                    <th>Actions</th>
                                </tr>
                                {% for product in products %}
                                    <tr>
                                        <td>{{ product.id }}</td>
                                        <td>{{ product.code }}</td>
                                        <td>{{ product.name }}</td>
                                        <td>{{ product.category }}</td>
                                        <td>{{ product.price }}</td>
                                        <td>{{ product.description }}</td>
                                        <td>{{ product.productImage }}</td>
                                        <td>{{ product.availableAmount }}</td>
                                        <td>{{ product.createdAt ? product.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                                        <td>{{ product.updatedAt ? product.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
                                        <td>
                                            <a style="width: 50px" class="btn btn-sm btn-warning" href="{{ path('show', {'productCode': product.code}) }}">Show</a>
                                            <a style="width: 50px" class="btn btn-sm btn-success" href="{{ path('edit', {'productCode': product.code}) }}">Edit</a>
                                            {{ include('admin/_delete_form.html.twig') }}
                                        </td>
                                    </tr>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </th>
            </table>
        </th>
    </table>
{% include '/parts/pagination.html.twig' %}
    <br>
{% endblock %}


